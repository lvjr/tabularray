\documentclass{article}
\usepackage[b5paper,margin=1cm]{geometry}
\pagestyle{empty}

\input{regression-test}

\usepackage{xcolor}
%\usepackage{ninecolors}
\usepackage{tabularray}
\usepackage{array}

\SetTblrTracing{none}
\UseTblrLibrary{hook}

\begin{document}

\hrule

\START

\SetTblrInner{stretch=0,cells={l}}

\bigskip

\BEGINTEST{multirow background: legacy}
\begin{tblr}{|t{4em}|b{4em}|m{4em}|m{4em}|b{4em}|t{4em}|}
\hline
  \SetCell[r=2]{b,brown7} b 12 12 12 12 12 12 12 12 12 12 12 12 12 12 12 12 12 &
  \SetCell{t,blue7} base top base top &
  \SetCell{azure7} middle &
  \SetCell[r=3]{t,red7} t 13 13 &
  \SetCell{azure7} base bot base bot &
  \SetCell[r=4]{t,red7} t 14 14 \\
\cline{2-3}\cline{5-5}
  \SetCell{azure7} 12 12 12 12 12 &
  \SetCell[r=2]{t,red7} t 23 23 &
  \SetCell{b,blue7} base bot base bot & &
  \SetCell[r=3]{b,brown7} b 24 24 & \\
\cline{1-1}\cline{3-3}
  \SetCell{azure7} base top base top & &
  \SetCell[r=2]{m,brown7} m 34 34 34 34 34 34 34 34 34 34 34 34 34 34 34 34 34 & & & \\
\cline{1-2}\cline{4-4}
  \SetCell{blue7} base top base top &
  \SetCell{b,azure7} base bot base bot & &
  \SetCell{m,azure7} middle & & \\
\hline
\end{tblr}
\ENDTEST

\bigskip

\BEGINTEST{multirow background: modern}
\begin{tblr}{|h{4em}|f{4em}|m{4em}|m{4em}|f{4em}|h{4em}|}
\hline
  \SetCell[r=2]{f,brown7} f 12 12 12 12 12 12 12 12 12 12 12 12 12 12 12 12 12 &
  \SetCell{h,blue7} row head row head &
  \SetCell{azure7} middle &
  \SetCell[r=3]{h,red7} h 13 13 &
  \SetCell{azure7} row foot row foot &
  \SetCell[r=4]{h,red7} h 14 14 \\
\cline{2-3}\cline{5-5}
  12 12 12 12 12 &
  \SetCell[r=2]{h,red7} h 23 23 &
  \SetCell{f,blue7} row foot row foot & &
  \SetCell[r=3]{f,brown7} f 24 24 & \\
\cline{1-1}\cline{3-3}
  \SetCell{azure7} row head row head & &
  \SetCell[r=2]{m,brown7} m 34 34 34 34 34 34 34 34 34 34 34 34 34 34 34 34 34 & & & \\
\cline{1-2}\cline{4-4}
  \SetCell{blue7} row head row head &
  \SetCell{f,azure7} row foot row foot & &
  \SetCell{m,azure7} middle & & \\
\hline
\end{tblr}

\ENDTEST

\end{document}
