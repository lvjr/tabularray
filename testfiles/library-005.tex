\documentclass{article}
\usepackage[b5paper,margin=1cm]{geometry}
\pagestyle{empty}
\setlength{\parindent}{0pt}

\input{regression-test}

\usepackage{tabularray}
\UseTblrLibrary{booktabs}

\usepackage{xcolor}
\usepackage{array,multirow,booktabs}

\SetTblrTracing{none}
%\UseTblrLibrary{varwidth}

\begin{document}

\START
\hrule\bigskip

\BEGINTEST{booktabs library: testing trim option}
\begin{tabular}{lcccc}
\toprule
  \multirow{2}[3]{*}{Sample} & \multicolumn{2}{c}{I} & \multicolumn{2}{c}{II} \\
\cmidrule(l{0.65em}r{0.65em}){2-3} \cmidrule(lr){4-5}
     & A & B &  C & D \\
\midrule
  S1 & 5 & 8 & 12 & 2 \\
  S2 & 6 & 9 &  2 & 6 \\
  S3 & 7 & 9 &  5 & 8 \\
  S4 & 8 & 9 &  8 & 2 \\
\bottomrule
\end{tabular}
\quad
\begin{booktabs}{
  colspec = lcccc,
  cell{1}{1} = {r=2}{},
  cell{1}{2,4} = {c=2}{},
}
\toprule
  Sample & I &   & II &   \\
\cmidrule[lr=-1]{2-3} \cmidrule[lr]{4-5}
         & A & B & C  & D \\
\midrule
  S1     & 5 & 8 & 12 & 2 \\
  S2     & 6 & 9 &  2 & 6 \\
  S3     & 7 & 9 &  5 & 8 \\
  S4     & 8 & 9 &  8 & 2 \\
\bottomrule
\end{booktabs}
\quad
\begin{tblr}{
  colspec = lcccc,
  cell{1}{1} = {r=2}{},
  cell{1}{2,4} = {c=2}{},
}
\toprule
  Sample & I &   & II &   \\
\cmidrule[lr=-1]{2-3} \cmidrule[lr]{4-5}
         & A & B & C  & D \\
\midrule
  S1     & 5 & 8 & 12 & 2 \\
  S2     & 6 & 9 &  2 & 6 \\
  S3     & 7 & 9 &  5 & 8 \\
  S4     & 8 & 9 &  8 & 2 \\
\bottomrule
\end{tblr}
\ENDTEST
\bigskip\hrule\bigskip

\BEGINTEST{booktabs library: testing bootabs environment}
\begin{tabular}{lll}
\toprule
 Alpha   & Beta  & Gamma   \\
\cmidrule(lr){1-2}
 Epsilon & Zeta  & Eta     \\
\midrule
 Iota    & Kappa & Lambda  \\
\cmidrule(lr){2-3}
 Nu      & Xi    & Omicron \\
\bottomrule
\end{tabular}
\quad
\begin{booktabs}{lll}
\toprule
 Alpha   & Beta  & Gamma   \\
\cmidrule[lr]{1-2}
 Epsilon & Zeta  & Eta     \\
\midrule
 Iota    & Kappa & Lambda  \\
\cmidrule[lr]{2-3}
 Nu      & Xi    & Omicron \\
\bottomrule
\end{booktabs}
\quad
\begin{tblr}{llll}
\toprule
 Alpha   & Beta  & Gamma   \\
\cmidrule[lr]{1-2}
 Epsilon & Zeta  & Eta     \\
\midrule
 Iota    & Kappa & Lambda  \\
\cmidrule[lr]{2-3}
 Nu      & Xi    & Omicron \\
\bottomrule
\end{tblr}
\ENDTEST

\bigskip\hrule\bigskip

\BEGINTEST{booktabs library: testing extra commands}
\begin{tabular}{lll}
\toprule
 Alpha   & Beta  & Gamma   \\
\cmidrule(lr){1-2}
\morecmidrules
\cmidrule(lr){2-3}
 Epsilon & Zeta  & Eta     \\
\specialrule{1pt}{6pt}{4pt}
 Iota    & Kappa & Lambda  \\
\addlinespace
 Nu      & Xi    & Omicron \\
\bottomrule
\end{tabular}
\quad
\begin{booktabs}{lll}
\toprule
 Alpha   & Beta  & Gamma   \\
\cmidrule[lr]{1-2}
\morecmidrules
\cmidrule[lr]{2-3}
 Epsilon & Zeta  & Eta     \\
\specialrule{1pt,blue3}{6pt}{4pt}
 Iota    & Kappa & Lambda  \\
\addlinespace
 Nu      & Xi    & Omicron \\
\bottomrule
\end{booktabs}
\quad
\begin{tblr}{llll}
\toprule
 Alpha   & Beta  & Gamma   \\
\cmidrule[lr]{1-2}
\cmidrulemore[lr]{2-3}
 Epsilon & Zeta  & Eta     \\
\specialrule{1pt,azure3}{4pt}{4pt}
 Iota    & Kappa & Lambda  \\
\addlinespace[0.5em+\defaultaddspace]
\morecmidrules
 Nu      & Xi    & Omicron \\
\cmidrule{1-3}
\bottomrule
\end{tblr}
\ENDTEST

\end{document}
