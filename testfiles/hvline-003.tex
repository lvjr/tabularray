\documentclass{article}
\usepackage[b5paper,margin=1cm]{geometry}
\pagestyle{empty}

\input{regression-test}

\usepackage{tabularray}
\usepackage{xcolor}
\usepackage{array}

\SetTblrTracing{none}
\UseTblrLibrary{hook}
\setlength\parindent{0pt}

\begin{document}

\START
\hrule\bigskip

\BEGINTEST{testing leftpos and rightpos}
\begin{tblr}{
  colspec = {|l||l|||l||l||},
  hline{1},
  hline{2} = {blue3, leftpos = -0.8, rightpos = 0.5},
  hline{3} = {blue3, leftpos = 0.5, rightpos = -0.8},
  hline{4} = {blue3, leftpos = 0.3, rightpos = 0.3},
  hline{5},
}
 Alpha   & Beta  & Gamma   & Delta \\
 Epsilon & Zeta  & Eta     & Theta \\
 Iota    & Kappa & Lambda  & Mu    \\
 Nu      & Xi    & Omicron & Pi    \\
\end{tblr}
\ENDTEST

\bigskip\hrule\bigskip

\BEGINTEST{testing abovepos and belowpos}
\begin{tblr}{
  rowspec = {|Q||Q|||Q||Q||},
  colspec = {||Q||Q||Q||r@{:}l||Q||Q||Q||},
  vline{6} = {purple3, abovepos = -0.3, belowpos = 0.7},
  vline{7} = {purple3, abovepos = 0.3, belowpos = 0.3},
  vline{8} = {purple3, abovepos = 0.7, belowpos = -0.3},
  vline{9} = {purple3, abovepos = 1, belowpos = 1},
  cell{1}{2} = {r=3}{l},
}
 Alpha   & Beta  & Gamma   & Delta & Alpha   & Beta  & Gamma   & Delta \\
 Epsilon & Zeta  & Eta     & Theta & Epsilon & Zeta  & Eta     & Theta \\
 Iota    & Kappa & Lambda  & Mu    & Iota    & Kappa & Lambda  & Mu    \\
 Nu      & Xi    & Omicron & Pi    & Nu      & Xi    & Omicron & Pi    \\
\end{tblr}
\par\medskip
\begin{tblr}{|r@{:}l|c|}
  \hline[2pt]
    A & B & C \\
  \hline[2pt]
    A & B & C \\
  \hline[2pt]
    A & B & C \\
  \hline[2pt]
\end{tblr}
\qquad
\begin{tblr}{*{3}{|l}|}
  \hline
    A & B & C \\
  \cline{1-2}
    A & B & C \\
  \cline{2}
    A & B & C \\
  \cline{2-3}
    A & B & C \\
  \hline
\end{tblr}
\ENDTEST

\bigskip\hrule\bigskip

\BEGINTEST{vline positions when belowpos=0}% #272
\begin{tblr}{
  hlines = {leftpos=0,rightpos=0,2pt},
  hlines = {2}{-}{leftpos=0,rightpos=0,2pt},
  vlines = {2pt},
  vline{2} = {1}{abovepos=0,belowpos=0},
  vline{3} = {1}{abovepos=0.5,belowpos=0},
  vline{4} = {1}{abovepos=1,belowpos=0},
  vline{2} = {2}{abovepos=0,belowpos=0},
  vline{3} = {2}{abovepos=0,belowpos=0.5},
  vline{4} = {2}{abovepos=0,belowpos=1},
}
  AAAAAA & BBBBB  & CCCCC  \\
  AAAAA  & BBBBBB & CCCCCC
\end{tblr}
\quad
\begin{tblr}{
  hlines = {leftpos=0,rightpos=0,2pt},
  hlines = {2}{-}{leftpos=0,rightpos=0,2pt},
  vlines = {2pt},
  vline{1} = {abovepos=0,belowpos=0},
  vline{2} = {abovepos=0,belowpos=0.00000001},
  vline{3} = {abovepos=0,belowpos=1},
}
  AAAAAA & BBBBB  \\
  AAAAA  & BBBBBB
\end{tblr}
\quad
\begin{tblr}{
    hline{1} = {1}{-}{},
    hline{1} = {2}{-}{rightpos=0.5, leftpos=0.5},
    hline{1} = {3}{-}{rightpos=0, leftpos=0},
    hline{4} = {1}{-}{rightpos=0, leftpos=0},
    hline{4} = {2}{-}{rightpos=0.5, leftpos=0.5},
    hline{4} = {3}{-}{},
    vline{1} = {1}{-}{abovepos=1, belowpos=1},
    vline{1} = {2}{-}{abovepos=0.5, belowpos=0.5},
    vline{1} = {3}{-}{},
    vline{4} = {1}{-}{},
    vline{4} = {2}{-}{abovepos=0.5, belowpos=0.5},
    vline{4} = {3}{-}{abovepos=1, belowpos=1},
    colsep = 5pt,
  }
  Alpha & Beta & Gamma \\
  One   & Two  & Three \\
  Tic   & Tac  & Toe \\
\end{tblr}
\ENDTEST

\end{document}
